<_TerroirAvatar cullFace="off" transparent="true"><uniform name="SplotchCellSize" type="float" value="1"/><uniform name="SplotchWaveNr" type="int" value="8"/><uniform name="Time" type="int" value="0"/><uniform name="waterMap" type="sampler2D" value="1"/><uniform name="starryMap" type="sampler2D" value="2"/><uniform name="forestMap" type="sampler2D" value="3"/><uniform name="fps" type="float" value="0.4"/><vertexProgram>varying vec2 Texcoord;
    
    uniform int Time;
    uniform float fps;

    void main( void )
    {
        float time = (float(Time)/1000.0)*fps;
        Texcoord.x = gl_MultiTexCoord0.x ;
        Texcoord.y = gl_MultiTexCoord0.y ;
     	
        gl_Position = ftransform();	
        gl_ClipVertex = gl_ModelViewMatrix*gl_Vertex;
    }
  </vertexProgram><fragmentProgram>varying vec2 Texcoord;
   
    uniform sampler2D waterMap;
    uniform sampler2D starryMap;
    uniform sampler2D forestMap;

    uniform int Time;
   
    uniform float SplotchCellSize;
    uniform int SplotchWaveNr;

    uniform vec4 areaActive;
   
    void main( void )
    {
        vec4 color = vec4(0.0, 0.0, 0.0, 1.0); // default: black
        vec4 debugAreaActive = vec4(1, 1, 1, 1);

        // Divide into 4 horizontal bands
        if (Texcoord.y &lt; 0.25) {
            if (areaActive.x != 0.0)
                color = vec4(1.0, 1.0, 0.0, 1.0); // yellow for plane 0
        } else if (Texcoord.y &lt; 0.5) {
            if (areaActive.y != 0.0)
                color = vec4(0.0, 0.5, 1.0, 1.0); // blue for plane 1
        } else if (Texcoord.y &lt; 0.75) {
            if (areaActive.z != 0.0)
                color = vec4(0.0, 1.0, 0.0, 1.0); // green for plane 2
         } else {
            if (areaActive.w != 0.0)
                color = vec4(1.0, 0.0, 0.0, 1.0); // red for "none"
        }

        gl_FragColor = color;

    }
  </fragmentProgram></_TerroirAvatar>