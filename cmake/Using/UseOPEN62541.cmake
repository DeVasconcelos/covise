MACRO(USE_OPEN62541)
  IF ((NOT OPEN62541_FOUND) AND (${ARGC} LESS 1))
    USING_MESSAGE("Skipping because of missing OPEN62541")
    RETURN()
  ENDIF((NOT OPEN62541_FOUND) AND (${ARGC} LESS 1))
  IF(NOT OPEN62541_USED AND OPEN62541_FOUND)
    SET(OPEN62541_USED TRUE)
	ADD_DEFINITIONS(-DHAVE_OPCUA)
    INCLUDE_DIRECTORIES(SYSTEM ${OPEN62541_INCLUDE_DIR})
    SET(EXTRA_LIBS ${EXTRA_LIBS} ${OPEN62541_LIBRARIES})
  ENDIF()
ENDMACRO(USE_OPEN62541)

